<html>
    <head>

    </head>
    <body>
        <h1>Print a message!</h1>
        <div>
            <strong>Message:</strong>
            <input type="text" id="message" />
            <input type="button" id="submitMessage" value="Send Message" />
            <input type="button" id="submitWeather" value="Send Weather" />
            <input type="button" id="submitForecast" value="Send Forecast" />
        </div>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
        <script type="text/javascript">
            $(function() {
                var url = getBaseUrl()[0];

                $('#submitMessage').click(function(){
                    var message = {
                        'text': $('#message').val(),
                        'duration' : 10
                    }

                    $.ajax({
                        type: "POST",
                        url: url+"api/message",
                        data: JSON.stringify(message),
                        success: function(){
                            alert('Sent!')   
                        },
                        fail: function() {
                            alert( "error" );
                        }
                    });
                })

                $('#submitForecast').click(function(){
                    $.ajax({
                        type: "POST",
                        url: url+"api/forecast",
                        success: function(){
                            alert('Sent!')   
                        },
                        fail: function() {
                            alert( "error" );
                        }
                    });
                })

                $('#submitWeather').click(function(){
                    var message = {
                        'text': $('#message').val(),
                        'duration' : 10
                    }

                    $.ajax({
                        type: "POST",
                        url: url+"api/weather",
                        success: function(){
                            alert('Sent!')   
                        },
                        fail: function() {
                            alert( "error" );
                        }
                    });
                })

                function getBaseUrl() {
                    var re = new RegExp(/^.*\//);
                    return re.exec(window.location.href);
                }
            });
        </script>
    </body>
</html>